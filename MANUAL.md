# トレイルランニング レースタイム予測ツール 取扱説明書

本ツールは、トレイルランニングのレースや試走の際に、コースのGPXデータと自身の走力を組み合わせて、詳細な到着予想時刻やペース配分をシミュレーションするためのアプリケーションです。

## 1. 概要
「完走できるか不安」「各エイドを何時に通過すれば目標タイムを達成できるか知りたい」といったトレイルランナーの悩みを解決します。上り・下りの苦手意識や、後半のペースダウン（タレ）も考慮した精度の高い予測が可能です。

## 2. 主な機能
- **GPXファイル読み込み**: GarminやYAMAPなどから書き出したコースデータを解析します。
- **動的な計算モード**: 「ペース指定モード」と「完走目標タイム指定モード」を切り替えられます。完走目標から逆算して各地点の通過時刻を出すことが可能です。
- **経過時間・到着時刻表示**: スタート時刻を設定することで、各地点の通過時刻（時計時刻）を計算します。
- **高低図（標高グラフ）表示**: コースの起伏と連動したペース推移を視覚的に確認できます。
- **画像エクスポート**: シミュレーション結果をPNG画像として保存し、スマホで持ち歩いたりSNSで共有したりできます。

## 3. 基本的な使い方
### ステップ1：GPXファイルの準備
あらかじめ、レース公式サイトやルート作成サービス（Strava, YAMAP, ヤマレコ等）からコースの **GPXファイル** をダウンロードしておきます。

### ステップ2：ファイルのアップロード
画面中央の「GPXファイルをアップロード」エリアにファイルをドラッグ＆ドロップするか、ファイルを選択してください。読み込みが完了すると、コースの総距離と獲得標高が表示されます。

### ステップ3：戦略の設定
「ペース戦略設定」パネルにて、自分の走力に合わせた数値を入力します。入力すると即座に結果が再計算されます。

### ステップ4：結果の確認と保存
グラフと表で到着時刻を確認します。納得のいく計画ができたら「画像として保存」ボタンを押して結果を保存しましょう。

## 4. 設定パラメーターの詳細
| 項目                 | 説明                                                                                                                        |
| :------------------- | :-------------------------------------------------------------------------------------------------------------------------- |
| **計算モード**       | 「ペース指定」または「完走目標タイム指定」を選択します。                                                                    |
| **完走目標タイム**   | 目標タイム指定モード時に、目標とするトータルの完走時間を入力します。                                                        |
| **基本ペース**       | 平地を走る際のペース（分/km）です。目標タイムモード時は「比率」として扱われます。                                           |
| **登り判定勾配**     | 「ここからは走らずに歩く」と判断する斜度（%）です。デフォルトは10%です。                                                    |
| **登り(歩き)ペース** | 上記の判定勾配以上になった際、歩いて登るペース（分/km）です。                                                               |
| **下りペース**       | 下り斜面（斜度-5%以下）での走行ペース（分/km）です。                                                                        |
| **エイド滞在時間**   | エイド1箇所あたりに滞在する想定時間（分）です。目標タイムモード時は、この時間を差し引いた走行時間からペースが逆算されます。 |
| **ペース配分**       | 後半の疲労による速度低下を考慮します。100%なら一定、低いほど後半にペースダウンする設定になります。                          |

## 5. ヒント
- **ウェイポイントの活用**: GPXファイルにエイドステーション地点の情報を入れておくと、表にそれらの地点の到着予想時刻が表示されます。
- **試走データの活用**: 過去の自分の試走ログを参考にパラメーターを微調整することで、より精度の高い本番予測が作れます。
- **画像の活用**: 保存した画像は、大会当日にスマホの待ち受け画面にしたり、ラミネートしてザックに付けたりする「ペース表」として役立ちます。

---
*Developed by Antigravity*
